# RoomMasters

## Оглавление

---

- [RoomMasters](#roommasters)
  - [Оглавление](#оглавление)
  - [Доменная область](#доменная-область)
    - [**Цель**](#цель)
    - [**Целевая аудитория**](#целевая-аудитория)
  - [Паттерн](#паттерн)
    - [**Model-View-Controller**](#model-view-controller)
      - [**Изменение расположения объектов**](#изменение-расположения-объектов)
  - [Архитектура](#архитектура)
    - [**База данных**](#база-данных)
      - [Обозначения](#обозначения)
  - [Use-cases](#use-cases)
    - [*Use-cases (для пользователей):*](#use-cases-для-пользователей)
    - [*Use-cases (для разработчиков):*](#use-cases-для-разработчиков)
  - [**Требования**](#требования)
    - [*Функциональные*](#функциональные)
    - [*Нефункциональные требования*](#нефункциональные-требования)

## Доменная область

---

### **Цель**

Дать пользователям возможность воссоздать свою комнату в виде
3D модели и добавить туда новые объекты, в виде объектов декора
или другой мебели, которые он в последствии сможет заказать.

### **Целевая аудитория**

1. Люди, которые хотят получить комплексное решение по ремонту комнаты.

2. Геймеры и гики (любители поп-культуры), которые хотят добавить декорации в свою комнату.

## Паттерн

---

### **Model-View-Controller**

<img src="https://i.ibb.co/8rFRJ9b/SI6-Kg-RDf-W6k.jpg"
alt="drawing" width="500"/>

- **User** - Пользователь

- **Controller** - обработчик событий

- **Model** - скрипты C#

- **Mobile App** - мобильное приложение на Unity  

---

#### **Изменение расположения объектов**

Взаимодействие пользователя с программой происходит с помощью `Контроллера`, который обрабатывает запросы
пользователя на изменения. Затем `Контроллер` передает запрос в `Модель`. Алгоритм написанный на языке `C#` меняет
параметры объектов, после чего движок `Unity` отрисовывает их на экране пользователя.

## Архитектура

---

[Использование Базы данных `Azure` для `MySQL` в масштабируемых мобильных приложениях и веб-приложениях.](https://docs.microsoft.com/ru-ru/azure/architecture/solution-ideas/articles/scalable-web-and-mobile-applications-using-azure-database-for-mysql)

Пользователь взаимодействует с View (в рамках MVP мобильным приложением), View отсылает запрос по HTTPS на Controller, который размещён в Azure App Services. Controller обрабатывает запрос и передаёт данные в Model. Модель обновляет БД и изменяет View. 

Контроллер и Модель размещаются в Azure App Services, БД Azure Database.

<a href="https://ibb.co/3rpMmpZ"><img src="https://i.ibb.co/LkxJdx7/arch-1.png" alt="arch-1" border="0" width= 500></a>

В рамках MVP мы планируем реализовать мобильное приложение, поэтому возможно реализуем отдельное хранение таблицы с предметами интерьера локально на устройствах, используя SQLite

### **База данных**

В данном проекте используется база данных `Azure SQL`.

<img src="https://i.ibb.co/Nj7KpY2/zkpg-M9-Yd-DUs.jpg"
 alt="zkpg-M9-Yd-DUs" border="0" width = 500>

#### Обозначения

---

- User - Пользователи.
- Order - Заказ.
- Order_Items - Список выбранных товаров.
- Item - Товар.
- Marketplace_Item - Информация о товаре в магазине.
- Marketplace - Магазин.
- Delivery company - Компания доставки.

## Use-cases

### *Use-cases (для пользователей):*

---

- Добавление нового предмета в комнату
  
  ---
   1. Пользователь нажимает на интересующий предмет интерьера в меню-каталоге
   2. Система отображает меню настроек предмета (цвет, размер, дополнительные детали)
   3. Пользователь выбирает необходимые настройки (use-case "Выбор настроек предмета")
   4. Если пользователь нажимает кнопку "Добавить", то выполняется шаг 6
   5. Если пользователь нажимает кнопку "Отмена", то система закрывает меню настроек предмета, пользователь переходит к 1 шагу
   6. Система добавляет предмет с выбранными настройками в центр 3d-представления комнаты
   7. Система выделяет контуры предмета белой обводкой

- Заказ выбранных предметов

  ---
    1. Пользователь нажимает на кнопку заказа.
    2. Система открывает окно "Корзины".
    3. Use-case "Подтверждение выбранных товаров".
    4. Если пользователь нажимает на кнопку "Заказать", система открывает окно регистрации заказа.
    5. Если пользователь нажимает на кнопку "Отмена", система возвращает его на главный экран.

- Регистрация

  ---

    1. Пользователь вводит электронную почту и нажимает кнопку далее
    2. Если электронная почта корректна, то система отображает окно ввода пароля
    3. Если электронная почта некорректна, то система отображает ошибку, пользователь переходит к шагу 1
    4. Пользователь вводит пароль в соответствующее поле
    5. Если пароль корректен, то система отправляет письмо с кодом подтверждения на введённую ранее электронную почту
    6. Если пароль некорректен, то система отображает ошибку, пользователь переходит к шагу 4
    7. Пользователь вводит код подтверждения с указанной почты
    8. Если код корректен, то система записывает почту и пароль пользователя в БД
    9. Если код некорректен, то система выдаёт ошибку, пользователь переходит к шагу 7

---

- Добавление новой комнаты.
- Изменение настроек комнаты.
- Выбор комнаты для редактирования.
- Удаление предмета из комнаты.
- Изменение настроек предмета в комнате.
- Выбор настроек предмета при добавлении.
- Удаление существующей комнаты.
- Изменение электронной почты пользователя.
- Изменение пароля пользователя.
- Удаление аккаунта пользователя.
- Открытие окна настроек приложения.
- Подтверждение выбранных товаров.

### *Use-cases (для разработчиков):*

---

- Добавление нового поставщика товаров.
- Добавление нового предмета в базу.
- Удаление аккаунта любого пользователя.

## **Требования**

---

### *Функциональные*

  1. Система должна позволять пользователю задавать параметры комнаты.
  2. Система должна позволять пользователю добавлять предметы в комнату.
  3. Система должна позволять пользователю менять расположение предметов в комнате.
  4. Система должна позволять пользователю менять угол обзора.
  5. Система должна позволять пользователю добавлять товары в "Корзину".
  6. Система должна позволять пользователю редактировать товары в "Корзине".
  7. Система должна иметь регистрацию для пользователей.
  8. Система должна позволять пользователю получить двумерный план его комнаты.

### *Нефункциональные требования*
  
  1. Должна быть возможность доставки заказа.
  2. Приложение должно быть кросс-платформенным.
  3. Приложение должно всегда запускаться на устройстве(которое отвечает требованиям),
если оно подключенно к интернету.
  4. Система должна позволять добавлять до 100 предметов в комнату.

